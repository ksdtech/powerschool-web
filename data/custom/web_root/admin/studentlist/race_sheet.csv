Student_Number,R100_NA,R201_CH,R202_JP,R203_KR,R204_VN,R205_AI,R206_LA,R207_CA,R208_HM,R299_OA,R301_HA,R302_GU,R303_SA,R304_TA,R399_OP,R400_FI,R600_BL,R700_WH
~[tlist_sql;
SELECT
s.STUDENT_NUMBER,
MAX(CASE sr.RACECD WHEN '100' THEN 1 ELSE 0 END) AS R100_NA,
MAX(CASE sr.RACECD WHEN '201' THEN 1 ELSE 0 END) AS R201_CH,
MAX(CASE sr.RACECD WHEN '202' THEN 1 ELSE 0 END) AS R202_JP,
MAX(CASE sr.RACECD WHEN '203' THEN 1 ELSE 0 END) AS R203_KR,
MAX(CASE sr.RACECD WHEN '204' THEN 1 ELSE 0 END) AS R204_VN,
MAX(CASE sr.RACECD WHEN '205' THEN 1 ELSE 0 END) AS R205_AI,
MAX(CASE sr.RACECD WHEN '206' THEN 1 ELSE 0 END) AS R206_LA,
MAX(CASE sr.RACECD WHEN '207' THEN 1 ELSE 0 END) AS R207_CA,
MAX(CASE sr.RACECD WHEN '208' THEN 1 ELSE 0 END) AS R208_HM,
MAX(CASE sr.RACECD WHEN '299' THEN 1 ELSE 0 END) AS R299_OA,
MAX(CASE sr.RACECD WHEN '301' THEN 1 ELSE 0 END) AS R301_HA,
MAX(CASE sr.RACECD WHEN '302' THEN 1 ELSE 0 END) AS R302_GU,
MAX(CASE sr.RACECD WHEN '303' THEN 1 ELSE 0 END) AS R303_SA,
MAX(CASE sr.RACECD WHEN '304' THEN 1 ELSE 0 END) AS R304_TA,
MAX(CASE sr.RACECD WHEN '399' THEN 1 ELSE 0 END) AS R399_OP,
MAX(CASE sr.RACECD WHEN '400' THEN 1 ELSE 0 END) AS R400_FI,
MAX(CASE sr.RACECD WHEN '600' THEN 1 ELSE 0 END) AS R600_BL,
MAX(CASE sr.RACECD WHEN '700' THEN 1 ELSE 0 END) AS R700_WH
FROM STUDENTS s
INNER JOIN STUDENTRACE sr
ON sr.STUDENTID=s.ID
GROUP BY s.STUDENT_NUMBER, sr.RACECD
ORDER BY s.STUDENT_NUMBER
]"~(Student_Number)","~(R100_NA)","~(R201_CH)","~(R202_JP)","~(R203_KR)","~(R204_VN)","~(R205_AI)","~(R206_LA)","~(R207_CA)","~(R208_HM)","~(R299_OA)","~(R301_HA)","~(R302_GU)","~(R303_SA)","~(R304_TA)","~(R399_OP)","~(R400_FI)","~(R600_BL)","~(R700_WH)"
[/tlist_sql]
